@*@using Microsoft.AspNet.Identity*@
@*@if (Request.IsAuthenticated)*@
@if (WorkContext.Uid > 0)
{
    using (Html.BeginForm("LogOff", "Account", FormMethod.Post, new { id = "logoutForm", @class = "ml-auto" }))
    {
    @Html.AntiForgeryToken()

    <ul class="nav navbar-nav">
        <li>
            @Html.ActionLink("你好，" + "路人甲"@*User.Identity.GetUserName()*@ + "!", "Index", "Manage", routeValues: null, htmlAttributes: new { title = "Manage", @class = "nav-link" })
        </li>
        <li><a class="nav-link" href="javascript:document.getElementById('logoutForm').submit()">注销</a></li>
    </ul>
    }
}
else
{
    <ul class="nav navbar-nav ml-auto">
        <li>@Html.ActionLink("注册", "Register", "Account", routeValues: null, htmlAttributes: new { id = "registerLink", @class = "nav-link" })</li>
        <li>@Html.ActionLink("登录", "Login", "Account", routeValues: new RouteValueDictionary { { "returnUrl", WorkContext.RawUrl } }, htmlAttributes: new Dictionary<string, object> { { "id", "loginLink" }, { "class", "nav-link" } })</li>
        @*<li><a class="nav-link" id="loginLink" href="@Url.Action("login", "account", new RouteValueDictionary { { "returnUrl", WorkContext.Url } })">[登录]</a></li>*@
    </ul>
}